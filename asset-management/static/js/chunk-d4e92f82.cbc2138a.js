(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d4e92f82"],{"0150":function(e,t,a){"use strict";var r=a("9745");a.n(r).a},"19bd":function(e,t,a){"use strict";a("efce"),a("4634"),a("ed8b");var r=a("97a3"),o=a("dea4");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}a("7cfd"),a("8f42");var s={components:{},props:{default:{type:Boolean,default:!0},allowClear:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择组织机构树"},typeFilter:{type:String,default:""},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},treeCheckable:{type:Boolean,default:!1},treeDefaultExpandAll:{type:Boolean,default:!1},dropdownStyle:{type:Object,default:function(){return{maxHeight:"400px",overflow:"auto"}}}},data:function(){return{organId:"",treeData:[]}},computed:{},methods:{initDepartment:function(){var e=this;this.$api.assets.queryAsynOrganByUserId({parentOrganId:"",typeFilter:this.typeFilter}).then((function(t){0===Number(t.data.code)&&(e.treeData=e.mapTreeNodes(t.data.data),e.default&&(e.organId=e.treeData[0].organId,e.organName=e.treeData[0].name,e.$emit("changeTree",e.organId,e.organName)))}))},onLoadData:function(e){var t=this;return new Promise((function(a){t.$api.assets.queryAsynOrganByUserId({parentOrganId:e.value,typeFilter:t.typeFilter}).then((function(r){if(0===Number(r.data.code)){var n=t.mapTreeNodes(r.data.data);t.setTree(e.value,t.treeData,n),t.treeData=Object(o.a)(t.treeData),a()}}))}))},setTree:function(e,t,a){for(var r=0;r<t.length;r++){if(Number(t[r].key)===Number(e))return void(t[r].children=Object(o.a)(a));t[r].children&&0<t[r].children.length&&this.setTree(e,t[r].children,a)}},mapTreeNodes:function(e){return e.map((function(e){var t=e.organId,a=e.name;return e.title=a,e.key=t,e.value=e.organId,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))},changeTree:function(e,t){this.multiple?(this.$emit("changeTree",e,t),this.organName=t):(this.$emit("changeTree",e,t[0]),this.organName=t[0]),this.organId=e}},created:function(){},mounted:function(){this.organId=this.value,this.initDepartment()}},i=a("6691"),l=Object(i.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("a-tree-select",{attrs:{multiple:e.multiple,showSearch:e.showSearch,dropdownStyle:e.dropdownStyle,treeData:e.treeData,placeholder:e.placeholder,allowClear:e.allowClear,loadData:e.onLoadData,disabled:e.disabled,treeCheckable:e.treeCheckable,treeDefaultExpandAll:e.treeDefaultExpandAll},on:{change:e.changeTree},model:{value:e.organId,callback:function(t){e.organId=t},expression:"organId"}})}),[],!1,null,"276f30da",null);t.a=l.exports},"1c62":function(e,t,a){},"1c6a":function(e,t,a){"use strict";a.r(t),a("efce"),a("4634"),a("ed8b");var r=a("97a3"),o={name:"EditAssetDetail",components:{TreeSelect:a("19bd").a},props:["details"],data:function(){return{formItemLayout:{labelCol:{span:4},wrapperCol:{span:19}},form:this.$form.createForm(this),userOptions:[],decorateOptions:[]}},methods:{changeTree:function(e){this.organId=e},handleSubmit:function(e,t){this.form.validateFields((function(a,r){return a?t():e(r)}))}},mounted:function(){this.form.setFieldsValue(this.details)}},n=a("6691");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l={name:"BaseInfoPart",components:{EditAssetDetail:Object(n.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"资产名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["assetName",{rules:[{required:!0,message:"请填写资产名称"}]}],expression:"[ 'assetName', { rules: [{ required: true, message: '请填写资产名称' }] } ]"}],attrs:{placeholder:"请填写资产名称"}})],1),a("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"资产编码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["assetCode",{rules:[{required:!0,message:"请填写资产编码"}]}],expression:"[ 'assetCode', { rules: [{ required: true, message: '请填写资产编码' }] } ]"}],attrs:{placeholder:"请填写资产名称"}})],1),a("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"装修情况"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["decorationSituation"],expression:"[ 'decorationSituation' ]"}],attrs:{placeholder:"请选择装修情况",options:e.decorateOptions}})],1),a("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"保管部门"}},[a("tree-select",{attrs:{placeholder:"请选择保管部门"},on:{changeTree:e.changeTree}})],1),a("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"使用人"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ownerUser"],expression:"[ 'ownerUser' ]"}],attrs:{placeholder:"请选择使用人",options:e.userOptions}})],1)],1)}),[],!1,null,"9195df6a",null).exports,OverviewNumber:a("5714").a},props:["assetHouseId"],data:function(){return{spinning:!1,baseInfoKeys:[{title:"资产名称",key:"assetName"},{title:"资产编码",key:"assetCode"},{title:"资产分类",key:"objectType"},{title:"资产类型",key:"type"},{title:"房屋形态",key:"houseStatus"},{title:"户型",key:"houseType"},{title:"装修情况",key:"decorate"},{title:"建筑结构",key:"structure"},{title:"资产用途",key:"use"},{title:"建筑面积",key:"area"},{title:"竣工日期",key:"validPeriod"},{title:"维修日期",key:"fixDate"},{title:"资产状态",key:"status"},{title:"相关描述",key:"desc",span:16},{title:"资产二维码",key:"QRCode",span:24}],spaceInfoKeys:[{title:"项目名称",key:"use"},{title:"所在楼栋",key:"building"},{title:"所在单元",key:"unit"},{title:"所在楼层",key:"floor"},{title:"层高",key:"floors"},{title:"省市区",key:"PCD"},{title:"地理位置",key:"address",span:24}],infoData:{},details:{},modalObj:{title:"编辑资产信息",status:!1,confirmLoading:!1,okText:"保存",width:550},numList:[{title:"运营(㎡)",key:"totalOperationArea",value:0,bgColor:"#4BD288"},{title:"闲置(㎡)",key:"totalIdleArea",value:0,bgColor:"#1890FF"},{title:"自用(㎡)",key:"totalSelfUserArea",value:0,bgColor:"#DD81E6"},{title:"占用(㎡)",key:"totalOccupationArea",value:0,bgColor:"#FD7474"},{title:"其他(㎡)",key:"totalOtherArea",value:0,bgColor:"#BBC8D6"}]}},methods:{queryDetailInfo:function(){var e=this;this.spinning=!0,this.$api.assets.queryAssetViewBaseInfo({assetHouseId:this.assetHouseId}).then((function(t){e.spinning=!1;var a=t.data;if(a&&"0"===String(a.code)){var r=a.data;return r.PCD="".concat(r.province).concat(r.city).concat(r.region),e.infoData=r}throw a.message||"查询接口出错"})).catch((function(t){e.spinning=!1,e.$message.error(t||"查询接口出错")}))},queryHouseAreaInfo:function(){var e=this,t=this.assetHouseId,a=this.numList;return this.$api.assets.queryAssetViewHouseArea({assetHouseId:t}).then((function(t){var r=t.data;if(r&&"0"===String(r.code))return e.numList=a.map((function(e){var t=r.data[e.key],a=t.percent,o=t.number;return i({},e,{value:"".concat(o,"(").concat(a,")")})}));throw r.message||"查询视图面积详情出错"})).catch((function(t){e.$message.error(t||"查询视图面积详情出错")}))},handleModalOpen:function(e){"location"!==e&&Object.assign(this.modalObj,{status:!0,details:{}})},handleModalCancel:function(){this.modalObj.status=!1},handleModalOk:function(){var e=this;new Promise((function(t,a){e.$refs.editAssetDetail.handleSubmit(t,a)})).then((function(t){e.modalObj.confirmLoading=!0,e.$api.assets.saveAssetViewHouseInfo(i({},t,{assetHouseId:e.assetHouseId})).then((function(t){e.modalObj.confirmLoading=!1;var a=t.data;if(a&&"0"===String(a.code))return e.modalObj.status=!1,e.$message.success("保存成功");e.$message.error(a.message||"保存接口出错")}))})).catch((function(){e.modalObj.confirmLoading=!1}))}},created:function(){this.queryDetailInfo(),this.queryHouseAreaInfo()}},c=Object(n.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.spinning}},[a("SG-Title",{attrs:{title:"基本信息",noMargin:""}}),a("a-row",{staticClass:"title_div",staticStyle:{"margin-top":"6px","margin-bottom":"15px"}},e._l(e.baseInfoKeys,(function(t){var r=t.title,o=t.key,n=t.span;return a("a-col",{key:o,attrs:{span:n||8}},[a("span",{staticStyle:{color:"#282D5B"}},[e._v(e._s(r)+":")]),a("span",{staticStyle:{"margin-left":"9px",color:"#49505E"}},[e._v(e._s(e.infoData[o]||"无"))]),"assetName"===o?a("a-icon",{staticStyle:{color:"#0084FF",cursor:"pointer","margin-left":"11px"},attrs:{type:"edit"},on:{click:function(t){return e.handleModalOpen("edit")}}}):e._e()],1)})),1),a("SG-Title",{attrs:{title:"空间位置",noMargin:""}}),a("a-row",{staticClass:"title_div",staticStyle:{"margin-top":"6px","margin-bottom":"15px"}},e._l(e.spaceInfoKeys,(function(t){var r=t.title,o=t.key,n=t.span;return a("a-col",{key:o,attrs:{span:n||8}},[a("span",{staticStyle:{color:"#282D5B"}},[e._v(e._s(r)+":")]),a("span",{staticStyle:{margin:"0 15px 0 4px",color:"#49505E"}},[e._v(e._s(e.infoData[o]||"无"))]),"address"===o?a("a-icon",{staticStyle:{color:"#e4393c",cursor:"pointer"},attrs:{type:"environment"},on:{click:function(t){return e.handleModalOpen("location")}}}):e._e()],1)})),1),a("SG-Title",{attrs:{title:"资产使用方向",noMargin:""}}),a("overview-number",{staticClass:"title_div",staticStyle:{"margin-top":"21px"},attrs:{numList:e.numList}}),a("SG-Modal",e._b({on:{ok:e.handleModalOk,cancel:e.handleModalCancel},model:{value:e.modalObj.status,callback:function(t){e.$set(e.modalObj,"status",t)},expression:"modalObj.status"}},"SG-Modal",e.modalObj,!1),[a("a-spin",{attrs:{spinning:e.modalObj.confirmLoading}},[a("edit-asset-detail",{ref:"editAssetDetail",attrs:{details:e.details}})],1)],1)],1)}),[],!1,null,"04cb294d",null).exports,u={receive:{title:"接管信息",details:{project:"资产项目",resource:"来源方式",way:"来源渠道"},table:{tableTitle:"当前权证信息",rowKey:"ssdfs",columns:[{title:"编号",key:"num"},{title:"交付类型",key:"payType"},{title:"交付时间",key:"payDate",scopedSlots:{customRender:"action"}}]},table2:{title:"权属办理记录",rowKey:"ssdfs",columns:[{title:"编号",key:"num"},{title:"交付类型",key:"payType"},{title:"交付时间",key:"payDate",scopedSlots:{customRender:"action"}}]}}},d={name:"OtherInfoPart",props:["assetHouseId"],data:function(){return{infoKeys:u,tabKey:"receive",detailData:{},tableData:[]}},methods:{},watch:{tabKey:function(e){e&&Object.assign(this,{detailData:{},tableData:[]})}}},p=(a("9b26"),{name:"AssetViewPage",components:{OtherInfoPart:Object(n.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other_info"},[a("SG-Title",{attrs:{title:"其他信息"}}),a("a-tabs",{staticClass:"title_div",attrs:{defaultActiveKey:"receive"},model:{value:e.tabKey,callback:function(t){e.tabKey=t},expression:"tabKey"}},e._l(e.infoKeys,(function(t,r){return a("a-tab-pane",{key:r,attrs:{tab:t.title}},[Object.keys(t.details).length?a("a-row",e._l(t.details,(function(t,r){return a("a-col",{key:r,attrs:{span:8}},[a("span",{staticStyle:{"margin-right":"4px",color:"#282D5B"}},[e._v(e._s(t)+":")]),a("span",{staticStyle:{color:"#49505E"}},[e._v(e._s(e.detailData[r]||"无"))])])})),1):e._e(),t.table.tableTitle?a("div",{staticStyle:{color:"#49505E",margin:"15px 0","font-weight":"bold"}},[e._v(e._s(t.table.tableTitle))]):e._e(),t.table.rowKey?a("a-table",{staticClass:"custom-table td-pd10",attrs:{rowKey:t.table.rowKey,columns:t.table.columns,dataSource:e.tableData}}):e._e(),t.table2?a("div",[a("div",{staticStyle:{color:"#49505E",margin:"15px 0","font-weight":"bold"}},[e._v(e._s(t.table2.tableTitle))]),a("a-table",{staticClass:"custom-table td-pd10",attrs:{rowKey:t.table2.rowKey,columns:t.table2.columns,dataSource:e.tableData},scopedSlots:e._u([{key:"action",fn:function(t,r){return a("span",{},[a("span",{staticClass:"btn-text"},[e._v(e._s(t))])])}}],null,!0)})],1):e._e()],1)})),1)],1)}),[],!1,null,"2da08d98",null).exports,BaseInfoPart:c},data:function(){return{assetHouseId:""}},methods:{},created:function(){var e=this.$route.params.houseId;this.assetHouseId=e}}),f=(a("2531"),Object(n.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"asset_view"},[e.assetHouseId?a("base-info-part",{attrs:{assetHouseId:e.assetHouseId}}):e._e(),e.assetHouseId?a("other-info-part",{attrs:{assetHouseId:e.assetHouseId}}):e._e()],1)}),[],!1,null,"321b362f",null));t.default=f.exports},2531:function(e,t,a){"use strict";var r=a("1c62");a.n(r).a},5714:function(e,t,a){"use strict";var r={name:"OverviewNumber",props:["numList"]},o=(a("0150"),a("6691")),n=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.numList.length?a("div",{staticClass:"overview_num"},e._l(e.numList,(function(t){return a("div",{key:t.title,staticClass:"view_item",style:{"background-color":t.bgColor||"",width:(100/e.numList.length).toFixed(3)+"%"}},[a("p",{style:{"font-size":"12px",color:t.fontColor||"#fff"}},[e._v(e._s(t.title))]),a("p",{style:{"font-size":"16px",color:t.fontColor||"#fff","font-weight":"bold"}},[e._v(e._s(t.value))])])})),0):e._e()}),[],!1,null,"5363a602",null);t.a=n.exports},"76e6":function(e,t,a){},"7cfd":function(e,t,a){var r=a("d3d8").f,o=Function.prototype,n=/^\s*function ([^ (]*)/;"name"in o||a("f9a5")&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},9745:function(e,t,a){},"9b26":function(e,t,a){"use strict";var r=a("76e6");a.n(r).a}}]);