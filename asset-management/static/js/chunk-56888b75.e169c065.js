(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-56888b75"],{"19bd":function(t,e,a){"use strict";a("efce"),a("4634"),a("ed8b");var r=a("97a3"),n=a("dea4");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}a("7cfd"),a("8f42");var o={components:{},props:{default:{type:Boolean,default:!0},allowClear:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择组织机构树"},typeFilter:{type:String,default:""},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},treeCheckable:{type:Boolean,default:!1},treeDefaultExpandAll:{type:Boolean,default:!1},dropdownStyle:{type:Object,default:function(){return{maxHeight:"400px",overflow:"auto"}}}},data:function(){return{organId:"",treeData:[]}},computed:{},methods:{initDepartment:function(){var t=this;this.$api.assets.queryAsynOrganByUserId({parentOrganId:"",typeFilter:this.typeFilter}).then((function(e){0===Number(e.data.code)&&(t.treeData=t.mapTreeNodes(e.data.data),t.default&&(t.organId=t.treeData[0].organId,t.organName=t.treeData[0].name,t.$emit("changeTree",t.organId,t.organName)))}))},onLoadData:function(t){var e=this;return new Promise((function(a){e.$api.assets.queryAsynOrganByUserId({parentOrganId:t.value,typeFilter:e.typeFilter}).then((function(r){if(0===Number(r.data.code)){var i=e.mapTreeNodes(r.data.data);e.setTree(t.value,e.treeData,i),e.treeData=Object(n.a)(e.treeData),a()}}))}))},setTree:function(t,e,a){for(var r=0;r<e.length;r++){if(Number(e[r].key)===Number(t))return void(e[r].children=Object(n.a)(a));e[r].children&&0<e[r].children.length&&this.setTree(t,e[r].children,a)}},mapTreeNodes:function(t){return t.map((function(t){var e=t.organId,a=t.name;return t.title=a,t.key=e,t.value=t.organId,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(a,!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}))},changeTree:function(t,e){this.multiple?(this.$emit("changeTree",t,e),this.organName=e):(this.$emit("changeTree",t,e[0]),this.organName=e[0]),this.organId=t}},created:function(){},mounted:function(){this.organId=this.value,this.initDepartment()}},s=a("6691"),l=Object(s.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a-tree-select",{attrs:{multiple:t.multiple,showSearch:t.showSearch,dropdownStyle:t.dropdownStyle,treeData:t.treeData,placeholder:t.placeholder,allowClear:t.allowClear,loadData:t.onLoadData,disabled:t.disabled,treeCheckable:t.treeCheckable,treeDefaultExpandAll:t.treeDefaultExpandAll},on:{change:t.changeTree},model:{value:t.organId,callback:function(e){t.organId=e},expression:"organId"}})}),[],!1,null,"276f30da",null);e.a=l.exports},"5fd7":function(t,e,a){},"781b":function(t,e,a){"use strict";var r=a("5fd7");a.n(r).a},"7cfd":function(t,e,a){var r=a("d3d8").f,n=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in n||a("f9a5")&&r(n,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},c3e3:function(t,e,a){"use strict";a.r(e),a("4634");var r=a("19bd"),n=[{title:"资产项目名称",dataIndex:"projectName",width:160,fixed:"left"},{title:"资产项目编码",dataIndex:"projectCode",width:120,fixed:"left"},{title:"接管机构",dataIndex:"organName",width:120},{title:"来源方式",dataIndex:"sourceType",width:120},{title:"来源渠道",dataIndex:"sourceChannelType",width:120},{title:"接管时间",dataIndex:"takeOverDate",width:100},{title:"建筑面积(㎡)",dataIndex:"area",width:100},{title:"楼栋数",dataIndex:"buildNum",width:100},{title:"资产数量",dataIndex:"assetNum",width:100},{title:"运营(㎡)",dataIndex:"transferOperationArea",width:100},{title:"自用(㎡)",dataIndex:"selfUserArea",width:100},{title:"闲置(㎡)",dataIndex:"idleArea",width:100},{title:"占用(㎡)",dataIndex:"occupationArea",width:100},{title:"其他(㎡)",dataIndex:"otherArea",width:100},{title:"资产原值",dataIndex:"originalValue",width:120},{title:"最新估值",dataIndex:"assetValuation",width:120},{title:"操作",dataIndex:"operation",width:80,scopedSlots:{customRender:"operation"},fixed:"right"}],i={components:{TreeSelect:r.a},data:function(){return{allStyle:"width: 170px; margin-right: 10px;",organId:"",assetProject:void 0,assetProjectOptions:[{label:"全部资产项目",value:""},{label:"公建2019",value:"1"},{label:"廉租房2018",value:"2"}],onlyCurrentOrgan:!1,assetStatistics:[{title:"所有资产(㎡)",area:""},{title:"运营(㎡)",area:""},{title:"闲置(㎡)",area:""},{title:"自用(㎡)",area:""},{title:"占用(㎡)",area:""},{title:"其他(㎡)",area:""}],columns:n,dataSource:[],paginator:{pageNo:1,pageLength:10,totalCount:0}}},methods:{changeTree:function(t){this.organId=t,this.queryClick()},onOnlyCurrentOrganChange:function(t){this.onlyCurrentOrgan=t.target.checked},filterOption:function(t,e){return 0<=e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())},toDetail:function(t){this.$router.push({path:"/houseStandingBook/assetProjectViewDetail",query:{projectId:t.projectId}})},handlePageChange:function(t){this.paginator.pageNo=t,this.queryList()},queryClick:function(){this.paginator.pageNo=1,this.queryStatistics(),this.queryList()},queryList:function(){var t=this,e={organId:this.organId,projectId:this.assetProject,isCurrent:this.onlyCurrentOrgan};this.$api.assets.viewGetAssetHouseList(e).then((function(e){if("0"===e.data.code){var a=e.data.data.data;a.forEach((function(t,e){t.key=e})),t.dataSource=a,t.paginator.totalCount=e.data.data.count}else t.$message.error(e.data.message)}))},queryStatistics:function(){var t=this,e={organId:this.organId,projectId:this.assetProject,isCurrent:this.onlyCurrentOrgan};this.$api.assets.viewGetAssetHouseStatistics(e).then((function(e){if("0"===e.data.code){var a=e.data.data;t.assetStatistics[0].area=a.measuredArea.toFixed(2),t.assetStatistics[1].area=a.transferOperationArea.toFixed(2),t.assetStatistics[2].area=a.idleArea.toFixed(2),t.assetStatistics[3].area=a.selfUserArea.toFixed(2),t.assetStatistics[4].area=a.occupationArea.toFixed(2),t.assetStatistics[5].area=a.otherArea.toFixed(2)}else t.$message.error(e.data.message)}))}}},o=(a("781b"),a("6691")),s={components:{assetProjectViewList:Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"asset-project-view-list"},[a("SG-SearchContainer",{attrs:{background:"white"}},[a("div",{attrs:{slot:"form"},slot:"form"},[a("treeSelect",{style:t.allStyle,attrs:{placeholder:"请选择组织机构",allowClear:!1},on:{changeTree:t.changeTree}}),a("a-select",{style:t.allStyle,attrs:{showSearch:"",placeholder:"请选择资产项目",optionFilterProp:"children",options:t.assetProjectOptions,filterOption:t.filterOption},model:{value:t.assetProject,callback:function(e){t.assetProject=e},expression:"assetProject"}}),a("a-checkbox",{staticStyle:{"line-height":"32px","margin-right":"5px"},attrs:{checked:t.onlyCurrentOrgan},on:{change:t.onOnlyCurrentOrganChange}},[t._v("仅当前机构下资产清理单")]),a("SG-Button",{attrs:{type:"primary"},on:{click:t.queryClick}},[t._v("查询")])],1)]),a("div",{staticClass:"asset-project-header"},[a("a-row",t._l(t.assetStatistics,(function(e,r){return a("a-col",{key:r,attrs:{span:4}},[a("div",{staticClass:"asset-project-item"},[a("div",{staticClass:"asset-project-item-title"},[t._v(t._s(e.title))]),a("div",{staticClass:"asset-project-item-number"},[t._v(t._s(e.area))])])])})),1)],1),a("div",[a("a-table",{staticClass:"custom-table",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,scroll:{x:1860}},scopedSlots:t._u([{key:"operation",fn:function(e,r){return[a("a",{staticClass:"operation-btn",on:{click:function(e){return t.toDetail(r)}}},[t._v("详情")])]}}])})],1),a("SG-FooterPagination",{attrs:{pageLength:t.paginator.pageLength,totalCount:t.paginator.totalCount,location:"absolute"},on:{input:t.handlePageChange},model:{value:t.paginator.pageNo,callback:function(e){t.$set(t.paginator,"pageNo",e)},expression:"paginator.pageNo"}})],1)}),[],!1,null,"47494123",null).exports},props:{},data:function(){return{}},computed:{},methods:{callback:function(){}},created:function(){},mounted:function(){}},l=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"assetChange"},[e("div",{staticClass:"custom-tabs"},[e("a-tabs",{attrs:{type:"card",tabBarGutter:10},on:{change:this.callback}},[e("a-tab-pane",{key:"1",attrs:{tab:"资产项目视图"}},[e("asset-project-view-list")],1),e("a-tab-pane",{key:"2",attrs:{tab:"楼栋视图"}}),e("a-tab-pane",{key:"3",attrs:{tab:"资产视图"}})],1)],1)])}),[],!1,null,"1d63ca72",null);e.default=l.exports}}]);