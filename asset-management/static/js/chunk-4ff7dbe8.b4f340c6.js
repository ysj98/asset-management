(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4ff7dbe8"],{"0150":function(t,e,n){"use strict";var i=n("9745");n.n(i).a},"13d1":function(t,e,n){},"1e0b":function(t,e,n){"use strict";var i=n("13d1");n.n(i).a},"3a70":function(t,e,n){"use strict";var i=n("460e");n.n(i).a},4560:function(t,e,n){},"460e":function(t,e,n){},5714:function(t,e,n){"use strict";var i={name:"OverviewNumber",props:["numList"]},o=(n("0150"),n("6691")),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.numList.length?n("div",{staticClass:"overview_num"},t._l(t.numList,(function(e){return n("div",{key:e.title,staticClass:"view_item",style:{"background-color":e.bgColor||"",width:(100/t.numList.length).toFixed(3)+"%"}},[n("p",{style:{"font-size":"12px",color:e.fontColor||"#fff"}},[t._v(t._s(e.title))]),n("p",{style:{"font-size":"16px",color:e.fontColor||"#fff","font-weight":"bold"}},[t._v(t._s(e.value))])])})),0):t._e()}),[],!1,null,"5363a602",null);e.a=a.exports},"58c4":function(t,e,n){"use strict";function i(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var o=n("d3d8").f,a=n("65c3"),r=n("a17c"),s=n("e85e"),c=n("5e01"),u=n("22ae"),l=n("4aef"),f=n("c8e9"),d=n("e465"),h=n("f9a5"),p=n("b081").fastKey,v=n("8716"),m=h?"_s":"size";t.exports={getConstructor:function(t,e,n,l){var f=t((function(t,i){c(t,f,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[m]=0,null!=i&&u(i,n,t[l],t)}));return r(f.prototype,{clear:function(){for(var t=v(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=v(this,e),o=i(n,t);if(o){var a=o.n,r=o.p;delete n._i[o.i],o.r=!0,r&&(r.n=a),a&&(a.p=r),n._f==o&&(n._f=a),n._l==o&&(n._l=r),n[m]--}return!!o},forEach:function(t,n){v(this,e);for(var i,o=s(t,1<arguments.length?n:void 0,3);i=i?i.n:this._f;)for(o(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!i(v(this,e),t)}}),h&&o(f.prototype,"size",{get:function(){return v(this,e)[m]}}),f},def:function(t,e,n){var o,a,r=i(t,e);return r?r.v=n:(t._l=r={i:a=p(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=r),o&&(o.n=r),t[m]++,"F"!==a&&(t._i[a]=r)),t},getEntry:i,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=v(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,f(1))}),n?"entries":"values",!n,!0),d(e)}}},"58d7":function(t,e,n){t.exports=n.p+"static/img/L123.f07254d1.png"},"608c":function(t,e,n){"use strict";var i=n("4560");n.n(i).a},"61ba":function(t,e,n){"use strict";n.r(e),n("8f42");var i={name:"BaseInfoPart",props:["houseId"],data:function(){return{spinning:!1,baseInfoKeys:[[{title:"主图",key:"buildingImg"},{title:"地理位置",key:"location"},{title:"地上层数",key:"upFloorNum"},{title:"权属状态",key:""},{title:"最新估值",key:"assetValuation"}],[{title:"楼栋名称",key:"assetName"},{title:"楼栋编码",key:"assetCode"},{title:"建筑面积",key:"area"},{title:"房屋数量",key:"assetNum"},{title:"地下层数",key:"downFloorNum"},{title:"建筑结构",key:"structure"}],[{title:"建筑年代",key:"years"},{title:"丘地号",key:"addressNo"},{title:"楼高",key:"buildHeight"},{title:"总层数",key:"floorNum"},{title:"权属形式",key:"ownText"},{title:"资产原值",key:"originalValue"}]],baseInfoData:{}}},methods:{queryHouseInfo:function(){var t=this;this.spinning=!0,this.$api.assets.queryAssetViewBaseInfo({assetHouseId:this.houseId}).then((function(e){t.spinning=!1;var n=e.data;if(n&&"0"===String(n.code)){var i=n.data;return i.structure="未知",i.ownText=1===Number(i.type)?"房屋":"楼栋",i.location="".concat(i.province).concat(i.city).concat(i.region).concat(i.address),t.baseInfoData=i}throw n.message||"查询资产基本信息出错"})).catch((function(e){t.spinning=!1,t.$message.error(e||"查询资产基本信息出错")}))}},mounted:function(){this.queryHouseInfo()}},o=(n("cf92"),n("6691")),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"base_info"},[i("a-spin",{attrs:{spinning:t.spinning}}),i("SG-Title",{attrs:{title:"基础信息",noMargin:""}}),i("div",{staticClass:"title_div",staticStyle:{"margin-top":"20px"}},[i("a-row",{attrs:{gutter:16}},t._l(t.baseInfoKeys,(function(e,o){return i("a-col",{key:o,attrs:{span:8}},t._l(e,(function(e){var o=e.title,a=e.key;return i("div",{key:a,staticClass:"item_detail"},["buildingImg"===a?i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{width:"185px"},attrs:{src:n("58d7")}})]):i("div",[i("span",{staticStyle:{color:"#282D5B"}},[t._v(t._s(o?o+":":""))]),i("span",{staticStyle:{"margin-left":"4px",color:"#49505E"}},[t._v(t._s(t.baseInfoData[a]||"无"))])])])})),0)})),1)],1)],1)}),[],!1,null,"104cd9e8",null).exports,r={name:"OtherInfoPart",data:function(){return{tableObj:{rowKey:"assetCode",dataSource:[],columns:[{title:"档案分类",dataIndex:"address",key:"address"},{title:"档案名称",dataIndex:"tags",key:"tags"},{title:"档案日期",dataIndex:"tagss",key:"tagss"},{title:"归档人",dataIndex:"taas",key:"taas"},{title:"操作",key:"action",dataIndex:"action",scopedSlots:{customRender:"action"}}]}}},methods:{},watch:{}},s=(n("a0c2"),Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"other_info"},[n("SG-Title",{attrs:{title:"其它信息"}}),n("a-table",t._b({staticClass:"custom-table  td-pd10 title_div",scopedSlots:t._u([{key:"action",fn:function(e,i){return n("span",{},[n("span",{staticClass:"btn-text"},[t._v("下载")])])}}])},"a-table",t.tableObj,!1))],1)}),[],!1,null,"45cae808",null).exports),c=(n("efce"),n("97a3")),u=n("dea4"),l=(n("4634"),n("ed8b"),n("5714")),f=(n("a9b1"),n("fafd"),n("68e0"),{name:"FloatView",props:["position","roomId","roomNo"],data:function(){return{count:0,timeoutId:0,spinning:!1,positionObj:{top:0,left:0},dataList:[{title:"运营(㎡)",key:"totalOperationArea",value:0},{title:"闲置(㎡)",key:"totalIdleArea",value:0},{title:"自用(㎡)",key:"totalSelfUserArea",value:0},{title:"占用(㎡)",key:"totalOccupationArea",value:0},{title:"其他(㎡)",key:"totalOtherArea",value:0}],roomDataCache:new Map}},methods:{setPos:function(t){var e=t.clientX,n=t.clientY;this.count+=e?1:0;var i=document.getElementsByClassName("float_view")[0],o=i.offsetHeight,a=i.offsetWidth,r=document.documentElement.clientHeight,s=document.documentElement.clientWidth,c="".concat(o<r-n?n+5:n-o-5,"px"),u="".concat(a<s-e?e+5:e-a-5,"px");this.positionObj={top:c,left:u,transition:1<this.count?"top,left 0.3s":""}},handleMouseAction:function(t){this.$emit("handleMouseAction",t)},searchRoomData:function(t){var e=this;new Promise((function(n,i){e.$emit("queryAreaInfo",{resolve:n,reject:i,id:t})})).then((function(n){e.spinning=!1,n&&(e.dataList=n,e.storeRoomCache({id:t,data:n}))})).catch((function(){e.spinning=!1}))},storeRoomCache:function(t){var e=t.id,n=t.data,i=this.roomDataCache;15<=i.size&&(i=new Map(Array.from(i).splice(1))),i.set(e,n)}},mounted:function(){this.setPos(this.position)},watch:{position:function(t){this.setPos(t)},roomId:function(t){if(!t)return!1;this.spinning=!0;var e=this.roomDataCache;if(e.has(t))this.spinning=!1,this.dataList=e.get(t);else{var n=this;clearTimeout(n.timeoutId),n.timeoutId=setTimeout((function(){n.searchRoomData(t)}),300)}}}}),d=(n("1e0b"),Object(o.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"float_view",style:t.positionObj,on:{mouseenter:function(e){return t.handleMouseAction(!0)},mouseleave:function(e){return t.handleMouseAction(!1)}}},[n("a-spin",{attrs:{spinning:t.spinning}},[n("div",{staticClass:"title"},[t._v(t._s(t.roomNo))]),n("div",{staticClass:"content"},t._l(t.dataList,(function(e){var i=e.title,o=e.value;return n("div",{key:i,staticStyle:{"padding-bottom":"17px"}},[n("span",{staticStyle:{"margin-right":"8px"}},[t._v(t._s(i)+":")]),n("span",[t._v(t._s(o||0))])])})),0)])],1)}),[],!1,null,"dc85240a",null).exports);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var p={name:"AssetDirectPart",components:{OverviewNumber:l.a,FloatView:d},props:["organId","assetHouseId","projectId"],data:function(){return{spinning:!1,timeoutId:0,roomId:"",roomNo:"",position:{clientX:0,clientY:0},isShowFloatView:!1,maxTotalArea:1,numList:[{title:"运营(㎡)",key:"totalOperationArea",value:0,bgColor:"#4BD288"},{title:"闲置(㎡)",key:"totalIdleArea",value:0,bgColor:"#1890FF"},{title:"自用(㎡)",key:"totalSelfUserArea",value:0,bgColor:"#DD81E6"},{title:"占用(㎡)",key:"totalOccupationArea",value:0,bgColor:"#FD7474"},{title:"其他(㎡)",key:"totalOtherArea",value:0,bgColor:"#BBC8D6"}],bgColorObj:{idleArea:"#1890FF",otherArea:"#BBC8D6",selfUserArea:"#DD81E6",occupationArea:"#FD7474",transferOperationArea:"#4BD288"},buildingList:[]}},methods:{handleStyle:function(t,e){var n=this.bgColorObj,i=this.maxTotalArea,o=Object.keys(t).filter((function(e){return t[e]})),a=1===o.length?n[o[0]]:"",r=1<o.length?"#687485":"#fff",s=(Number(e)/i*100).toFixed(2);return"background-color: ".concat(a,"; width: ").concat(s,"%; color: ").concat(r)},calcMaxTotalArea:function(t){var e=t.map((function(t){return Number(t.floorArea)}));this.maxTotalArea=Math.max.apply(Math,Object(u.a)(e))},handleMouseMove:function(t,e,n,i){var o=this;if(clearTimeout(o.timeoutId),!e)return o.isShowFloatView=!1;o.timeoutId=setTimeout((function(){var e=t.clientX,a=t.clientY;Object.assign(o,{roomId:n,roomNo:i,isShowFloatView:!0,position:{clientX:e,clientY:a}})}),300)},handleShowFloatView:function(t){var e=this;if(clearTimeout(e.timeoutId),t)return e.isShowFloatView=!0;e.timeoutId=setTimeout((function(){e.isShowFloatView=!1}),300)},queryHouseAreaInfo:function(t){var e=this,n=this.buildingId,i=this.numList;return this.$api.assets.queryAssetViewHouseArea({assetHouseId:t?t.id:n}).then((function(n){var o=n.data;if(o&&"0"===String(o.code)){var a=i.map((function(t){var e=o.data[t.key],n=e.percent,i=e.number;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{value:"".concat(i,"(").concat(n,")")})}));return t.id?t.resolve(a):e.numList=a}throw o.message||"查询楼栋视图面积使用统计出错"})).catch((function(n){t.id&&t.reject(),e.$message.error(n||"查询楼栋视图面积使用统计出错")}))},queryFloorInfo:function(){var t=this;this.spinning=!0,this.$api.assets.queryBuildingViewFloorInfo({assetHouseId:this.houseId,organId:this.organId}).then((function(e){t.spinning=!1;var n=e.data;if(n&&"0"===String(n.code))return t.buildingList=n.data,t.calcMaxTotalArea(n.data);throw n.message||"查询楼层信息出错"})).catch((function(e){t.spinning=!1,t.$message.error(e||"查询楼层信息出错")}))}},mounted:function(){}},v=(n("608c"),{name:"BuildingDetailPage",components:{AssetDirectPart:Object(o.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"asset_detail"},[n("a-spin",{attrs:{spinning:t.spinning}},[n("SG-Title",{attrs:{title:"资产使用方向",noMargin:""}}),n("div",{staticClass:"title_div",staticStyle:{"margin-top":"20px"}},[n("overview-number",{staticStyle:{"margin-bottom":"12px"},attrs:{numList:t.numList}}),t.buildingList.length?n("div",{staticClass:"building_style"},t._l(t.buildingList,(function(e){return n("div",{key:e.floorName,staticClass:"floor_style"},[n("div",{staticClass:"floor_num"},[t._v(t._s(e.floorName))]),n("div",{staticClass:"floor_rooms"},t._l(e.roomList,(function(e){return n("div",{key:e.roomNo,staticClass:"room_style",style:t.handleStyle(e.areaInfo,e.totalArea),on:{mousemove:function(n){return t.handleMouseMove(n,!0,e.roomId,e.roomNo)},mouseout:function(e){return t.handleMouseMove(e,!1)}}},[t._v("\n              "+t._s(e.roomNo)+"\n            ")])})),0)])})),0):t._e(),t.roomId?n("float-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowFloatView,expression:"isShowFloatView"}],attrs:{roomNo:t.roomNo,roomId:t.roomId,position:t.position},on:{queryAreaInfo:t.queryHouseAreaInfo,handleMouseAction:t.handleShowFloatView}}):t._e()],1)],1)],1)}),[],!1,null,"49f5db4a",null).exports,BaseInfoPart:a,OtherInfoPart:s},data:function(){return{projectId:"",organId:"",assetHouseId:""}},methods:{},created:function(){var t=this.$route.params,e=t.organId,n=t.projectId,i=t.assetHouseId;Object.assign(this,{organId:e,projectId:n,assetHouseId:i})}}),m=(n("3a70"),Object(o.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"building_detail"},[t.assetHouseId?n("base-info-part",{attrs:{houseId:t.assetHouseId}}):t._e(),t.assetHouseId?n("asset-direct-part",{attrs:{houseId:t.assetHouseId,organId:t.organId,projectId:t.projectId}}):t._e(),n("other-info-part")],1)}),[],!1,null,"03db44b0",null));e.default=m.exports},"68e0":function(t,e,n){"use strict";var i=n("58c4"),o=n("8716");t.exports=n("9ffd")("Map",(function(t){return function(e){return t(this,0<arguments.length?e:void 0)}}),{get:function(t){var e=i.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(o(this,"Map"),0===t?0:t,e)}},i,!0)},"6b7e":function(t,e,n){},8716:function(t,e,n){var i=n("da0b");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},9745:function(t,e,n){},"9ffd":function(t,e,n){"use strict";var i=n("3f8b"),o=n("2498"),a=n("a6d5"),r=n("a17c"),s=n("b081"),c=n("22ae"),u=n("5e01"),l=n("da0b"),f=n("0cc1"),d=n("b309"),h=n("3d87"),p=n("1e01");t.exports=function(t,e,n,v,m,g){function y(t){var e=w[t];a(w,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})}var b=i[t],_=b,I=m?"set":"add",w=_&&_.prototype,k={};if("function"==typeof _&&(g||w.forEach&&!f((function(){(new _).entries().next()})))){var O=new _,x=O[I](g?{}:-0,1)!=O,A=f((function(){O.has(1)})),C=d((function(t){new _(t)})),S=!g&&f((function(){for(var t=new _,e=5;e--;)t[I](e,e);return!t.has(-0)}));C||(((_=e((function(e,n){u(e,_,t);var i=p(new b,e,_);return null!=n&&c(n,m,i[I],i),i}))).prototype=w).constructor=_),(A||S)&&(y("delete"),y("has"),m&&y("get")),(S||x)&&y(I),g&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,m,I),r(_.prototype,n),s.NEED=!0;return h(_,t),k[t]=_,o(o.G+o.W+o.F*(_!=b),k),g||v.setStrong(_,t,m),_}},a0c2:function(t,e,n){"use strict";var i=n("6b7e");n.n(i).a},a9b1:function(t,e,n){"use strict";var i=n("e85e"),o=n("2498"),a=n("a9cf"),r=n("dd80"),s=n("67c1"),c=n("8941"),u=n("e323"),l=n("5fff");o(o.S+o.F*!n("b309")((function(t){Array.from(t)})),"Array",{from:function(t,e,n){var o,f,d,h,p=a(t),v="function"==typeof this?this:Array,m=arguments.length,g=1<m?e:void 0,y=void 0!==g,b=0,_=l(p);if(y&&(g=i(g,2<m?n:void 0,2)),null==_||v==Array&&s(_))for(f=new v(o=c(p.length));b<o;b++)u(f,b,y?g(p[b],b):p[b]);else for(h=_.call(p),f=new v;!(d=h.next()).done;b++)u(f,b,y?r(h,g,[d.value,b],!0):d.value);return f.length=b,f}})},b081:function(t,e,n){function i(t){s(t,o,{value:{i:"O"+ ++c,w:{}}})}var o=n("4d2c")("meta"),a=n("da0b"),r=n("549d"),s=n("d3d8").f,c=0,u=Object.isExtensible||function(){return!0},l=!n("0cc1")((function(){return u(Object.preventExtensions({}))})),f=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!u(t))return"F";if(!e)return"E";i(t)}return t[o].i},getWeak:function(t,e){if(!r(t,o)){if(!u(t))return!0;if(!e)return!1;i(t)}return t[o].w},onFreeze:function(t){return l&&f.NEED&&u(t)&&!r(t,o)&&i(t),t}}},bc8d:function(t,e,n){},cf92:function(t,e,n){"use strict";var i=n("bc8d");n.n(i).a},fafd:function(t,e,n){"use strict";var i=n("1eb0")(!0);n("4aef")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))}}]);