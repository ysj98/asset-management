(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-40933efa"],{"18b0":function(t,e,a){},"19bd":function(t,e,a){"use strict";a("efce"),a("4634"),a("ed8b");var n=a("97a3"),o=a("dea4");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}a("7cfd"),a("8f42");var i={components:{},props:{default:{type:Boolean,default:!0},allowClear:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择组织机构树"},typeFilter:{type:String,default:""},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},treeCheckable:{type:Boolean,default:!1},treeDefaultExpandAll:{type:Boolean,default:!1},dropdownStyle:{type:Object,default:function(){return{maxHeight:"400px",overflow:"auto"}}}},data:function(){return{organId:"",treeData:[]}},computed:{},methods:{initDepartment:function(){var t=this;this.$api.assets.queryAsynOrganByUserId({parentOrganId:"",typeFilter:this.typeFilter}).then((function(e){0===Number(e.data.code)&&(t.treeData=t.mapTreeNodes(e.data.data),t.default&&(t.organId=t.treeData[0].organId,t.organName=t.treeData[0].name,t.$emit("changeTree",t.organId,t.organName)))}))},onLoadData:function(t){var e=this;return new Promise((function(a){e.$api.assets.queryAsynOrganByUserId({parentOrganId:t.value,typeFilter:e.typeFilter}).then((function(n){if(0===Number(n.data.code)){var r=e.mapTreeNodes(n.data.data);e.setTree(t.value,e.treeData,r),e.treeData=Object(o.a)(e.treeData),a()}}))}))},setTree:function(t,e,a){for(var n=0;n<e.length;n++){if(Number(e[n].key)===Number(t))return void(e[n].children=Object(o.a)(a));e[n].children&&0<e[n].children.length&&this.setTree(t,e[n].children,a)}},mapTreeNodes:function(t){return t.map((function(t){var e=t.organId,a=t.name;return t.title=a,t.key=e,t.value=t.organId,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(a,!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}))},changeTree:function(t,e){this.multiple?(this.$emit("changeTree",t,e),this.organName=e):(this.$emit("changeTree",t,e[0]),this.organName=e[0]),this.organId=t}},created:function(){},mounted:function(){this.organId=this.value,this.initDepartment()}},s=a("6691"),c=Object(s.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a-tree-select",{attrs:{multiple:t.multiple,showSearch:t.showSearch,dropdownStyle:t.dropdownStyle,treeData:t.treeData,placeholder:t.placeholder,allowClear:t.allowClear,loadData:t.onLoadData,disabled:t.disabled,treeCheckable:t.treeCheckable,treeDefaultExpandAll:t.treeDefaultExpandAll},on:{change:t.changeTree},model:{value:t.organId,callback:function(e){t.organId=e},expression:"organId"}})}),[],!1,null,"276f30da",null);e.a=c.exports},"1acd":function(t,e,a){"use strict";var n=a("a9ad");a.n(n).a},"398a":function(t,e,a){"use strict";var n={props:{type:{type:String,default:""}},data:function(){return{}}},o=(a("9524"),a("6691")),r=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.type}})])}),[],!1,null,"617dc8c0",null);e.a=r.exports},"47bc":function(t,e,a){},"62fe":function(t,e,a){"use strict";a("8f42");var n=a("4e72"),o=a("398a"),r={name:"OperationPopover",components:{APopover:n.Popover,AIcon:n.Icon,segiIcon:o.a},props:{index:{type:[String,Number],default:""},operationData:{type:Array,default:function(){return[]}},record:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},watch:{},methods:{jumpToEdit:function(t){var e=Object.assign({},this.record);this.$emit("operationFun",t,e,this.index)}}},i=(a("1acd"),a("e62b"),a("6691")),s=Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.operationData.length?a("div",{staticClass:"operation"},[a("a-popover",{attrs:{overlayClassName:"operation-popover",title:"",placement:"bottom",overlayStyle:{zIndex:2019}}},[a("a-icon",{staticStyle:{"font-size":"26px",cursor:"pointer"},attrs:{type:"ellipsis"}}),a("template",{staticStyle:{"z-index":"2019"},slot:"content"},[a("ul",{staticClass:"ul-operation"},[t._l(t.operationData,(function(e,n){return[a("li",{key:n,on:{click:function(a){return t.jumpToEdit(e.editType)}}},[e.typeInterpretation?a("segiIcon",{staticClass:"segiIcon",attrs:{type:e.iconType}}):a("a-icon",{staticStyle:{"font-size":"14px"},attrs:{type:e.iconType}}),a("span",[t._v(t._s(e.text))]),a("i",{staticClass:"left-border"})],1)]}))],2)])],2)],1):t._e()}),[],!1,null,"73bb9746",null);e.a=s.exports},"7bc0":function(t,e,a){"use strict";a.r(e),a("4634");var n=a("398a"),o=a("19bd"),r=a("62fe"),i=[{title:"分类编号",dataIndex:"categoryConfId",width:"160"},{title:"所属机构",dataIndex:"organName",width:"200"},{title:"资产类型",dataIndex:"assetTypeName",width:"160"},{title:"分类名称",dataIndex:"professionName",width:"160"},{title:"分类编码",dataIndex:"professionCode",width:"160"},{title:"计量单位",dataIndex:"unit",width:"160"},{title:"净残值率(%)",dataIndex:"netSalvageRate",width:"160"},{title:"折旧方法",dataIndex:"depreciationMethod",width:"160"},{title:"状态",dataIndex:"statusName",width:"180",scopedSlots:{customRender:"statusName"}},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],s=[{iconType:"play-circle",text:"启用",editType:"start"},{iconType:"form",text:"编辑",editType:"edit"},{iconType:"bars",text:"详情",editType:"detail"}],c=[{iconType:"pause-circle",text:"停用",editType:"stop"},{iconType:"form",text:"编辑",editType:"edit"},{iconType:"bars",text:"详情",editType:"detail"}],l={components:{segiIcon:n.a,TreeSelect:o.a,OperationPopover:r.a},data:function(){return{allStyle:"width: 150px; marginLeft: 10px;",organId:"",organName:"",status:"",statusOptions:[{label:"全部状态",value:""},{label:"启用",value:"1"},{label:"停用",value:"2"}],codeName:"",columns:i,dataSource:[],operationData1:s,operationData2:c,paginator:{pageNo:1,pageLength:10,totalCount:0}}},methods:{changeTree:function(t,e){this.organName=e,this.organId=t,this.queryClick()},handlePageChange:function(t){this.paginator.pageNo=t,this.queryList()},operationFun:function(t,e){switch(t){case"start":this.changeStatus(1,e.categoryConfId);break;case"stop":this.changeStatus(0,e.categoryConfId);break;case"edit":this.$router.push({path:"/assetClassSet/edit",query:{pageType:"edit",categoryConfId:e.categoryConfId}});break;case"detail":this.$router.push({path:"/assetClassSet/detail",query:{pageType:"detail",categoryConfId:e.categoryConfId}})}},changeStatus:function(t,e){var a=this,n={categoryConfId:e,status:t};this.$api.assets.updateStatus(n).then((function(t){"0"===t.data.code?(a.$message.success("修改成功"),a.queryList()):a.$message.error(t.data.message)}))},queryClick:function(){this.paginator.pageNo=1,this.queryList()},queryList:function(){var t=this,e={organId:this.organId,status:this.status,codeName:this.codeName,pageNum:this.paginator.pageNo,pageSize:this.paginator.pageLength};this.$api.assets.getPage(e).then((function(e){if("0"===e.data.code){var a=e.data.data.data;a.forEach((function(t,e){t.key=e,t.operationData="0"===t.status?s:c})),t.dataSource=a,t.paginator.totalCount=e.data.data.count}else t.$message.error(e.data.message)}))}}},d=a("6691"),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SG-SearchContainer",{attrs:{background:"white"}},[a("div",{attrs:{slot:"btns"},slot:"btns"},[a("SG-Button",{attrs:{type:"primary"}},[a("segiIcon",{staticClass:"icon-right",attrs:{type:"#icon-ziyuan10"}}),t._v("导出")],1)],1),a("div",{attrs:{slot:"form"},slot:"form"},[a("treeSelect",{style:t.allStyle,attrs:{placeholder:"请选择组织机构",allowClear:!1},on:{changeTree:t.changeTree}}),a("a-select",{style:t.allStyle,attrs:{options:t.statusOptions},on:{change:t.queryClick},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}}),a("a-input-search",{style:t.allStyle,attrs:{placeholder:"类别名称/编码"},on:{search:t.queryClick},model:{value:t.codeName,callback:function(e){t.codeName=e},expression:"codeName"}})],1)]),a("div",[a("a-table",{staticClass:"custom-table",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1},scopedSlots:t._u([{key:"operation",fn:function(e,n){return[a("OperationPopover",{attrs:{operationData:n.operationData,record:n},on:{operationFun:t.operationFun}})]}},{key:"statusName",fn:function(e,n,o){return["1"===n.status?a("div",[a("SG-Switch",{staticStyle:{"margin-right":"10px"},attrs:{disabled:"",checked:"",id:o}}),t._v("启用")],1):a("div",[a("SG-Switch",{staticStyle:{"margin-right":"10px"},attrs:{disabled:"",id:o}}),t._v("停用")],1)]}}])})],1),a("SG-FooterPagination",{attrs:{pageLength:t.paginator.pageLength,totalCount:t.paginator.totalCount,location:"absolute"},on:{input:t.handlePageChange},model:{value:t.paginator.pageNo,callback:function(e){t.$set(t.paginator,"pageNo",e)},expression:"paginator.pageNo"}})],1)}),[],!1,null,"7b7218ca",null);e.default=u.exports},"7cfd":function(t,e,a){var n=a("d3d8").f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||a("f9a5")&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},9524:function(t,e,a){"use strict";var n=a("18b0");a.n(n).a},a9ad:function(t,e,a){},e62b:function(t,e,a){"use strict";var n=a("47bc");a.n(n).a}}]);